function debugAlert(a){isDebug&&alert(a)}function isEmail(a){var b=RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(a);return b?!0:!1}function isPassword(a){var b=RegExp(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/).test(a);return b?!0:!1}function isContainStr(a,b){return""!=b&&void 0!=b&&a.toLowerCase().indexOf(b.toLowerCase())>-1?!0:!1}function isPhone(a){return a.match("^[0-9]{2}-[0-9]{8}$")}function isInvalidMPhone(a){return a.match("^[0-9]{2}-[0-9]{9}$")}function isInteger(a){var b=RegExp(/^[0-9]+$/);return b.test(a)}function handleEnter(a,b){var c=b.keyCode?b.keyCode:b.which?b.which:b.charCode;if(13==c){var d;for(d=0;d<a.form.elements.length&&a!=a.form.elements[d];d++);return d=(d+1)%a.form.elements.length,a.form.elements[d].focus(),!1}return!0}function getWeekDay(a){var b=1e3*(60*a.getHours()*60+60*a.getMinutes()+a.getSeconds()),c=a.getTime()-864e5*a.getDay()-b;return c}function getWeeHoursDay(a){var b=1e3*(60*a.getHours()*60+60*a.getMinutes()+a.getSeconds());return a.getTime()-b}function getWindowHeight(){var a=0;return window.innerHeight?a=window.innerHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(a=document.documentElement.clientHeight),a}function getObjAttributeNames(a){var b=new Array;for(key in a)b.push(key);return b}function getObjAttributeNameByValue(obj,value){for(key in obj)if(eval("obj."+key)==value)return key;return null}function getEnumAttributes(obj){var methods=new Array;for(key in obj){var element=new Object;element.name=key,element.value=eval("obj."+key),methods.push(element)}return methods}function getDay(a){var b="";switch(a){case 2:b="Tuesday";break;case 3:b="Wednesday";break;case 4:b="Thursday";break;case 5:b="Friday";break;case 6:b="Saturday";break;case 1:b="Monday"}return b}function validInteger(a){return null!=a&&(a=a.toString(),a=a.replace(/[^\d]/g,"")),a}function validDecimal(a){return null!=a&&(a=a.toString(),a=a.replace(/[^\d.]/g,""),a=a.replace(/^\./g,""),a=a.replace(/\.{2,}/g,"."),a=a.replace(".","$#$").replace(/\./g,"").replace("$#$","."),a=a.replace(/^(-?\\d+)(\\.\\d+)?$/,"")),a}function isWeixin(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1}function isWeibo(){var a=navigator.userAgent.toLowerCase();return"microblog"==a.match(/MicroBlog/i)?!0:!1}function getMobileType(){var a=navigator.userAgent;return a.indexOf("Android")>-1||a.indexOf("Linux")>-1?MobileTypes.Android:a.indexOf("iPhone")>-1?MobileTypes.iPhone:a.indexOf("iPad")>-1?MobileTypes.iPad:a.indexOf("Mac")>-1?MobileTypes.iPhone:MobileTypes.None}function encodeUTF8(a){for(var b="",c="",d=0,e=a.length;e>d;d++)b=a.charCodeAt(d).toString(16),c+="\\u"+new Array(5-b.length).join("0")+b;return c}function decodeUTF8(a){return a.replace(/(\\u)(\w{4}|\w{2})/gi,function(a,b,c){return String.fromCharCode(parseInt(c,16))})}function checkNumber(a,b){if(b){var c=!1;a.value.indexOf(".")>-1&&a.value.split(".").length>1&&(c=!0),(event.keyCode<48&&c||event.keyCode>57)&&(event.returnValue=!1),event.keyCode>=35&&event.keyCode<=37&&(event.returnValue=!1),event.keyCode>=38&&event.keyCode<=43&&(event.returnValue=!1),45==event.keyCode&&(event.returnValue=!1),44==event.keyCode&&(event.returnValue=!1),47==event.keyCode&&(event.returnValue=!1),a.value.split(".").length>1&&a.value.split(".")[1].length>2&&(event.returnValue=!1)}else 46!==event.keyCode&&8!==event.keyCode&&(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)&&(event.returnValue=!1)}function checkNumberTwo(a,b){if(b){var c=!1;a.value.indexOf(".")>-1&&a.value.split(".").length>1&&(c=!0),(event.keyCode<48&&c||event.keyCode>57)&&(event.returnValue=!1),event.keyCode>=35&&event.keyCode<=37&&(event.returnValue=!1),event.keyCode>=38&&event.keyCode<=43&&(event.returnValue=!1),45==event.keyCode&&(event.returnValue=!1),44==event.keyCode&&(event.returnValue=!1),47==event.keyCode&&(event.returnValue=!1),a.value.split(".").length>1&&a.value.split(".")[1].length>2&&(event.returnValue=!1)}else(0==a.value.length||parseInt(a.value)<=1)&&(a.value=1),countTotal(a)}function reduceNum(a){var b=parseInt($(a).next().val());$(a).next().val(1>=b?1:b-1),countTotal($(a).next()[0])}function addNum(a){var b=parseInt($(a).prev().val());$(a).prev().val(b+1),countTotal($(a).prev()[0])}function countTotal(a){var b=parseFloat(a.value)*parseFloat($(a).prev().prev().val());$(".promotePriceNewTotal").html("￥"+b.toFixed(2))}function setDocumentTitle(a){var a=a||$(".navbar-absolute-top>.navbar-brand span").text();$(document).attr("title",a)}function getToken(){if(localStorage&&localStorage.getItem(easybuy.Storage.Token)){var a=JSON.parse(localStorage.getItem(easybuy.Storage.Token)),b=(new Date).getTime();if(a&&a.timestamp&&a.version){var c=b-a.timestamp,d=6048e5;c>0&&d>c&&easybuy.version==a.version?a=a:(localStorage.removeItem(easybuy.Storage.Token),a=null)}else localStorage.removeItem(easybuy.Storage.Token),a=null;return a}return null}function setToken(a,b){if(localStorage)try{return void(a?(a.timestamp=(new Date).getTime(),a.version=easybuy.version,b&&b.openid&&(a.openid=b.openid,a.headimgurl=b.headimgurl),localStorage.setItem(easybuy.Storage.Token,JSON.stringify(a))):localStorage.removeItem(easybuy.Storage.Token))}catch(c){localStorage.removeItem(easybuy.Storage.Token),alertWarning("你可能开启了浏览器的无痕浏览模式，请关闭无痕浏览模式")}}function removeToken(){if(localStorage)try{return void localStorage.removeItem(easybuy.Storage.Token)}catch(a){localStorage.removeItem(easybuy.Storage.Token)}}function getRechargeRoute(){if(localStorage&&localStorage.getItem(easybuy.Storage.RechargeRoute)){var a=JSON.parse(localStorage.getItem(easybuy.Storage.RechargeRoute)),b=(new Date).getTime();if(a&&a.timestamp){var c=b-a.timestamp,d=36e5;c>0&&d>c?a=a:(localStorage.removeItem(easybuy.Storage.RechargeRoute),a=null)}else localStorage.removeItem(easybuy.Storage.RechargeRoute),a=null;return a}return null}function setRechargeRoute(a){if(localStorage)try{return void(a?(a.timestamp=(new Date).getTime(),localStorage.setItem(easybuy.Storage.RechargeRoute,JSON.stringify(a))):localStorage.removeItem(easybuy.Storage.RechargeRoute))}catch(b){localStorage.removeItem(easybuy.Storage.RechargeRoute),alertWarning("你可能开启了浏览器的无痕浏览模式，请关闭无痕浏览模式")}}function getOrder(){if(localStorage&&localStorage.getItem(easybuy.Storage.Order)){var a=JSON.parse(localStorage.getItem(easybuy.Storage.Order));return a}return null}function setOrder(a){if(localStorage)try{return void(a?localStorage.setItem(easybuy.Storage.Order,JSON.stringify(a)):localStorage.removeItem(easybuy.Storage.Order))}catch(b){localStorage.removeItem(easybuy.Storage.Order),alertWarning("你可能开启了浏览器的无痕浏览模式，请关闭无痕浏览模式")}}function removeOrder(){if(localStorage)try{return void localStorage.removeItem(easybuy.Storage.Order)}catch(a){localStorage.removeItem(easybuy.Storage.Order)}}function getCleaner(){if(localStorage&&localStorage.getItem(easybuy.Storage.Cleaner)){var a=JSON.parse(localStorage.getItem(easybuy.Storage.Cleaner));return a}return null}function setCleaner(a){if(localStorage)try{return void(a?localStorage.setItem(easybuy.Storage.Cleaner,JSON.stringify(a)):localStorage.removeItem(easybuy.Storage.Cleaner))}catch(b){localStorage.removeItem(easybuy.Storage.Cleaner),alertWarning("你可能开启了浏览器的无痕浏览模式，请关闭无痕浏览模式")}}function removeCleaner(){if(localStorage)try{return void localStorage.removeItem(easybuy.Storage.Cleaner)}catch(a){localStorage.removeItem(easybuy.Storage.Cleaner)}}function getCar(){if(localStorage&&localStorage.getItem(easybuy.Storage.Car)){var a=JSON.parse(localStorage.getItem(easybuy.Storage.Car));return a}return null}function setCar(a){if(localStorage)try{return void(a?localStorage.setItem(easybuy.Storage.Car,JSON.stringify(a)):localStorage.removeItem(easybuy.Storage.Car))}catch(b){localStorage.removeItem(easybuy.Storage.Car),alertWarning("你可能开启了浏览器的无痕浏览模式，请关闭无痕浏览模式")}}function removeCar(){if(localStorage)try{return void localStorage.removeItem(easybuy.Storage.Car)}catch(a){localStorage.removeItem(easybuy.Storage.Car)}}function getLocation(a){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){a(b,!0)},function(b){a(b,!1)}):alert("Geolocation is not supported by this browser.")}function getQueryString(){var a=location.search.match(new RegExp("[?&][^?&]+=[^?&]+","g"));if(null==a)return"";for(var b=0;b<a.length;b++)a[b]=a[b].substring(1);return a}function getQueryStringByName(a){var b=location.search.match(new RegExp("[?&]"+a+"=([^&]+)","i"));return null==b||b.length<1?"":b[1]}function getQueryStringByIndex(a){if(null==a)return"";var b=getQueryString();if(a>=b.length)return"";var c=b[a],d=c.indexOf("=")+1;return c=c.substring(d)}function getUserInfo(a,b){var c={};c.user_id=a.id,c.mobile=a.mobile,c.isNewUser=a.isNewUser;var d="http://m.xiaoniubang.com/api/index.php?s=home/index/login";$.ajax({url:d,type:"post",data:c,async:!1,success:function(a){b&&b(a)},cache:!1,timeout:5e3,error:function(){alert("获取用户信息超时")}})}var easybuy={};easybuy.version="6.29.1340",easybuy.Storage={OrderProducts:"Order.OrderProducts",Address:"Global.Address",AddressTemp:"Address.Temp",MobileInquiry:"Inquiry.Mobile",UserInfo:"Global.UserInfo",UserInfoService:"Global.UserInfoService",Car:"Global.Car",Cart:"Global.Cart",DownloadAppClose:"Global.DownloadAppClose",oAuth:"Global.oAuth",Order:"Global.Order",Token:"Global.Token",WxSdkToken:"Global.WxSdkToken",Find:"Global.Find",RechargeRoute:"Global.RechargeRoute",Cleaner:"Global.Cleaner"};var statusCode={Success:0,error:-1},statusMsg={Success:"OK",error:"failed"},isDebug=!1,defindeBackBtn=[];defindeBackBtn["/car"]="/myCars",defindeBackBtn["/myCars"]="/order",defindeBackBtn["/order"]="/teacher",defindeBackBtn["/teacher"]="/teachers",Date.prototype.Format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};var MobileTypes={Android:"Android",iPhone:"iPhone",iPad:"iPad",None:""};Date.prototype.diff=function(a){return(this.getTime()-a.getTime())/864e5};